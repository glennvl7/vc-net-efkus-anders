<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SVG Zones Color Picker with Flip Countdown Timer</title>
  <style>
    /* --- Page & body setup --- */
    body {
      margin: 0;
      background: #111;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      font-family: 'Courier New', Courier, monospace;
      padding: 20px 10px 40px;
      color: white;
    }

    /* --- Flip countdown timer styles --- */
    .timer-wrapper {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }

    .flip-unit {
      text-align: center;
    }

    .label {
      color: #aaa;
      font-size: 14px;
      margin-top: 5px;
      user-select: none;
    }

    .flip-card {
      position: relative;
      width: 80px;
      height: 100px;
      background: #222;
      color: #00ffcc;
      font-size: 3em;
      font-weight: bold;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: inset 0 -4px 0 rgba(0, 255, 200, 0.2), 0 4px 10px rgba(0, 0, 0, 0.5);
      perspective: 1000px;
      user-select: none;
    }

    .flip-card span {
      display: block;
    }

    .flip-animation {
      animation: flip 0.7s ease-in-out;
    }

    @keyframes flip {
      0%   { transform: rotateX(0deg); }
      50%  { transform: rotateX(90deg); }
      100% { transform: rotateX(0deg); }
    }

    /* --- Responsive SVG styles --- */
    svg {
      max-width: 600px;
      width: 100%;
      height: auto;
      border: 1px solid #ccc;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      user-select: none;
    }

    .zone {
      cursor: default;
      transition: fill 0.3s ease, stroke-width 0.3s ease;
    }

    .zone:hover {
      opacity: 0.8;
    }

    .selected {
      stroke-width: 2.5 !important;
    }
  </style>
</head>
<body>

  <!-- Flip countdown timer -->
  <div class="timer-wrapper" aria-label="Countdown timer">
    <div class="flip-unit">
      <div class="flip-card" id="hours" aria-live="polite" aria-atomic="true">00</div>
      <div class="label">HOURS</div>
    </div>
    <div class="flip-unit">
      <div class="flip-card" id="minutes" aria-live="polite" aria-atomic="true">00</div>
      <div class="label">MINUTES</div>
    </div>
    <div class="flip-unit">
      <div class="flip-card" id="seconds" aria-live="polite" aria-atomic="true">00</div>
      <div class="label">SECONDS</div>
    </div>
  </div>

  <!-- SVG Map -->
  <svg viewBox="0 0 800 1000" role="img" aria-label="Map of Brugge divided into zones">
    <path class="zone" id="path4" d="M 531.39075,13.788582 C 504.87424,38.53732 504.87424,38.183766 504.87424,38.183766 l -57.27565,13.788582 -46.31549,16.61701 -74.24621,50.911692 -13.78859,15.55635 6.01041,94.7523 213.54625,-12.37436 18.73833,-26.51651 18.73833,-19.79899 10.25305,-20.5061 10.96015,-26.16295 15.2028,-12.37437 26.5165,-8.13172 22.27387,-3.53554 L 693.3182,88.741901 673.51921,42.77996 660.43773,34.294679 629.67859,39.59798 590.43416,38.183766 558.2608,26.162951 Z" />
    <path class="zone" id="path5" d="m 692.96465,89.095455 69.65001,206.828735 -23.33452,6.01041 -137.88582,62.22539 -85.55992,27.93072 -6.71752,-21.56676 10.96016,-51.61879 10.25305,-30.75915 -0.35356,-54.44722 6.01041,-18.38477 16.97056,-25.8094 18.38478,-18.03123 20.5061,-45.60838 14.84924,-13.78859 25.8094,-7.77817 21.92031,-3.53553 z" />
    <path class="zone" id="path6" d="m 319.61227,229.8097 0.7071,83.4386 -3.18198,46.66905 2.47488,17.67767 19.79899,20.15254 15.55634,-1.06066 49.49748,-26.5165 32.52691,-6.01041 28.63783,0.35356 42.77996,4.59619 12.02081,-51.26524 10.25305,-29.69849 -0.35355,-56.92209 5.3033,-14.84924 z" />
    <path class="zone" id="path7" d="m 312.18764,135.0574 -30.75914,22.98097 -32.17336,28.63782 -76.72109,61.16474 -38.89087,66.82159 118.44039,147.07821 22.62741,-27.93072 30.05204,-22.62742 33.58758,-12.37437 -18.38478,-20.50609 -2.82843,-18.73833 3.88909,-48.08326 -1.41421,-82.02439 z" />
    <path class="zone" id="path8" d="m 132.93607,314.66252 -45.254829,127.98633 37.476659,61.87184 62.2254,126.21856 10.25305,-43.48707 7.42462,-32.52691 36.416,-78.84241 9.89949,-14.49568 z" />
    <path class="zone" id="path9" d="m 86.974134,442.29529 -45.608387,185.96909 -5.303301,39.95153 4.596194,51.26524 95.45942,-23.68808 25.10229,-4.59619 33.94112,-4.59619 -7.07107,-55.50789 -62.9325,-127.27922 z" />
    <path class="zone" id="path10" d="m 40.65864,719.8347 23.688077,112.07643 14.495689,27.22361 37.830214,36.416 34.64823,8.48528 30.05204,15.55635 22.98097,-178.54446 -9.54594,-55.15433 -56.56854,9.19239 z" />
    <path class="zone" id="path11" d="m 192.6866,828.02204 172.88761,-29.34493 28.99137,65.05382 50.55814,102.88404 -62.9325,24.04163 -66.11449,-1.76777 -87.68124,-28.28427 -33.94113,-21.56675 -13.43502,-19.44544 z" />
    <path class="zone" id="path12" d="m 365.22065,797.97 51.97235,-32.17336 56.9221,-18.73833 138.59293,89.09546 -81.67084,73.5391 -58.33631,42.42641 -26.87005,14.14214 z" />
    <path class="zone" id="path13" d="m 198.69701,704.27835 69.29646,7.42463 37.83021,-13.43503 17.32412,12.37437 8.83883,-15.2028 92.98455,-56.9221 4.24264,16.26346 26.16295,42.77996 13.78858,28.28427 4.24264,21.56676 -55.15433,17.67767 -52.67945,32.17336 -172.18051,30.75914 11.66727,-87.32769 z" />
    <path class="zone" id="path14" d="m 197.28279,587.95929 67.88225,-14.84924 127.63278,-37.47666 8.48528,39.24442 29.34493,38.18377 -4.24264,25.45584 -94.39876,55.86144 -8.83883,15.9099 -17.67767,-11.66726 -38.18377,13.78858 -68.58935,-8.48528 -10.96016,-73.89266 z" />
    <path class="zone" id="path15" d="m 197.63635,586.54508 9.54594,-35.35534 42.77996,-88.38835 33.58757,-36.416 20.85965,-14.49569 33.58757,-12.72792 14.49569,-2.12132 24.74874,32.17336 6.71751,25.45584 1.06066,36.416 7.42462,43.13351 -133.64318,39.95154 z" />
    <path class="zone" id="path16" d="m 352.13918,397.39401 51.26524,-26.87006 32.88046,-6.36396 72.1249,4.94975 43.84062,124.80435 1.76776,39.59798 21.92031,24.39518 -147.78531,71.77134 2.82842,-15.9099 -29.69848,-38.89088 -16.61701,-82.73149 -0.70711,-39.95153 -23.33452,-48.08327 -13.78858,-31.04455 z" />
  </svg>

  <script>
    // --- Set colors programmatically ---
    // For demo, color some zones differently.
    const zoneColors = {
      path4: '#ff4444',
      path5: '#44ff44',
      path6: '#4444ff',
      path7: '#ffff44',
      path8: '#44ffff',
      path9: '#ff44ff',
      path10: '#ffbb44',
      path11: '#bb44ff',
      path12: '#44bbff',
      path13: '#bbff44',
      path14: '#ff44bb',
      path15: '#44ffbb',
      path16: '#bbbbbb',
    };

    for (const id in zoneColors) {
      const el = document.getElementById(id);
      if (el) el.style.fill = zoneColors[id];
    }

    // --- Flip countdown timer code ---
    // Calculate the countdown target: 2 hours starting at 22:20 local time.
    function getCountdownTimes() {
  const now = new Date();

  // Start time today at 22:20
  let startTime = new Date(now);
  startTime.setHours(22, 20, 0, 0);

  // If current time is before today 22:20, use yesterday 22:20 as start
  if (now < startTime) {
    startTime.setDate(startTime.getDate() - 1);
  }

  // Countdown ends 2 hours after start time
  let endTime = new Date(startTime.getTime() + 2 * 60 * 60 * 1000);

  return { now, startTime, endTime };
}

function updateTimer() {
  const { now, startTime, endTime } = getCountdownTimes();

  let diff = endTime - now;

  if (diff < 0) diff = 0; // countdown finished

  const hours = String(Math.floor(diff / (1000 * 60 * 60))).padStart(2, '0');
  const minutes = String(Math.floor((diff / (1000 * 60)) % 60)).padStart(2, '0');
  const seconds = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');

  flip(document.getElementById('hours'), hours);
  flip(document.getElementById('minutes'), minutes);
  flip(document.getElementById('seconds'), seconds);
}
    }

    function flip(el, newVal) {
      if (el.textContent !== newVal) {
        el.classList.remove('flip-animation');
        void el.offsetWidth; // trigger reflow
        el.classList.add('flip-animation');
        el.textContent = newVal;
      }
    }

    setInterval(updateTimer, 1000);
    updateTimer();
  </script>
</body>
</html>
